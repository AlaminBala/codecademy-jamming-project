(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[396],{yZ2X:function(t,e,r){"use strict";r.r(e);var o=r("rePB"),s=r("7tbW"),n=r.n(s),i=(r("f0Jk"),r("+gav"),r("BzM2")),a=r("fhzG"),c=r.n(a),p=r("q1tI"),l=r.n(p),u=r("/MKj"),d=r("eikI"),h=r("+gt8"),m=r("GDib"),j=r("21f3"),g=r("zqu8"),b=r("/qsH"),f=r("Fd/6"),P=r("XUH+"),S=r("Z6NK"),y=r("bf6c"),k=r("SdBd"),O=r("2oex"),w=r("CWAm"),_=r("ydTQ"),D=r("yy36");function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const A={showModal:r("givd").c,trackSubmit:w.h,trackComplete:w.b},I=c()({displayName:"Projects",mixins:S.a.concat([i.a.connect(_.a)]),getInitialState(){const t={type:"Brief",project:this.props.currentProject},e=_objectSpread(_objectSpread({},this.props.currentProject.projectInformation.components),{},{Brief:t});return this.componentGrid=l.a.createRef(),{wall:null,components:e,progress:this.props.currentProjectProgress}},UNSAFE_componentWillMount(){_.a.setController(this),_.a.setReduxReference(this.props.store),this.adapter=f.a.forProjectsWithComponents(this.state.components),this.adapter.controller=this,h.a.newAdapter(this.adapter)},componentDidMount(){this.updateWorkspace(),this.adapter.trigger("interface:ready"),this.adapter.extendCache()},componentDidUpdate(t,e){!e.workspaceIdle&&this.state.workspaceIdle&&this.props.showModal({type:"IdleWall"})},currentWorkspace(){return this.props.currentProject.projectInformation.workspace},gridSetup(t){0===this.state.progress.status&&void 0!==t.slots[25]&&t.expandSlotInDirection(25,"left")},updateWorkspace(){const t=this.props,e=t.disabled,r=t.isAnonymous;e||r||Object(y.a)({content:this.props.currentProject.projectInformation,isAnonymous:this.props.isAnonymous,userId:d.a.id()}).then((()=>{this.adapter.trigger("godex:ready")})).catch((t=>{0}))},componentsToHide(){return Object.keys(this.state.components).filter((t=>"Brief"!==t&&"WebBrowser"!==t))},revealComponents(){for(const t of this.componentsToHide())this.componentGrid.current.expandSlotByName(t);this.setState({grid:this.state.grid})},wall(){return this.props.isAnonymous?null:this.state.wall||null},initialSavepointSlug(){return`${this.props.currentProject.slug}-initial`},finalSavepointSlug(){return`${this.props.currentProject.slug}-final`},getWorkspaceSetupCommand:()=>null,clearWall(){this.setState({wall:null})},getAssessments(){const t=this.props,e=t.currentProjectProgress;return t.currentProject.projectInformation.self_assessments.map((t=>_objectSpread(_objectSpread({},t),{},{tasks:t.tasks.map((t=>{var r;return _objectSpread(_objectSpread({},t),{},{done:null==e||null===(r=e.checklist)||void 0===r?void 0:r[t.task_key]})}))})))},getTaskStatuses:t=>t.map((({tasks:t})=>t)).reduce(((t,e)=>[...t,...e]),[]).map((t=>!!t.done)),getWalkthroughYouTubeId(){const t=this.props.currentProject.projectInformation;return t?t.video_url:null},render(){const t=this.props,e=t.course,r=t.isPractice,o=t.programSlug||(e?e.slug:""),s={componentShouldBeDisabled:this.componentShouldBeDisabled,positionCueSignal:this.positionCueSignal},i=this.getAssessments(),a={readonly:!1,fileNavReady:!0,isProject:!0,disableLinting:this.props.isLintingDisabled,assessments:i},c={progress:this.props.currentProjectProgress,wall:this.wall(),contentItemTitle:this.props.currentProject.title,contentParentTitle:e?e.title:"",bugReportData:{course:o,skill:this.props.currentProject.slug}},p=n()([this.props.contentTitle,this.props.currentProject.title]).join(": ");return l.a.createElement(g.a,null,l.a.createElement(P.a,{customHeader:l.a.createElement(j.a,{workspace:this.currentWorkspace(),prerender:this.props.prerender,nolock:this.state.nolock,authoringMode:this.state.authoringMode,walkthroughVideoUrl:this.getWalkthroughYouTubeId()}),customFooter:l.a.createElement(b.a,{tasksDoneStatuses:this.getTaskStatuses(i),onProjectComplete:this.props.onProjectComplete,isPractice:r,nolock:this.state.nolock})},l.a.createElement(m.a,{ref:this.componentGrid,components:this.state.components,adapter:this.adapter,helpers:s,modifiers:a,presenter:c,gridSetup:this.gridSetup,user:{isAnon:!1},contentItemType:"project",title:p})))}});e.default=Object(u.connect)((t=>({isAdmin:Object(D.t)(t),isAnonymous:Object(D.u)(t),isPractice:Object(k.a)(t),contentTitle:Object(O.i)(t)})),A)(I)}}]);
//# sourceMappingURL=platform-scenes-project-legacy-projects~45f7c4f6.bd0925d5d737cfdd872a.chunk.js.map